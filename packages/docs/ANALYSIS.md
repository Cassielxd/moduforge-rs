# ModuForge-RS 技术综述

本文以架构评估视角总结 ModuForge-RS 的优势、限制和落地建议。

## 优势
- **分层清晰**：模型、状态、事务、运行时、协作、存储各司其职，便于拆分与测试。
- **不可变设计**：依托 `imbl` 持久化结构，实现线程安全、历史可回放。
- **扩展机制**：插件、扩展、中间件统一管理，便于注入业务规则和横切逻辑。
- **配套齐全**：从文件格式、事件持久化到全文检索、协作、宏系统均有官方实现。
- **可观测性**：整合 `tracing`、自适应运行时配置、指标采集与系统资源探测。

## 限制
- **学习曲线**：需要理解不可变数据、事务流以及插件体系。
- **多 crate 依赖**：项目结构较大，外部集成时需要维护 path 或版本映射。
- **运行时选择**：不同场景要在同步/异步/Actor 间权衡，需要实践经验。

## 典型组合
| 场景 | 推荐运行时 | 持久化 | 协作 | 检索 |
| ---- | ---------- | ------ | ---- | ---- |
| 桌面编辑器 | ForgeAsyncRuntime | SqliteEventStore | 可选 | 可选 |
| 服务端工作台 | ForgeActorRuntime | 自定义后端 + 快照 | 建议开启 | Tantivy |
| 离线优先 | ForgeAsyncRuntime | moduforge-file + SqliteEventStore | 视需求而定 | 可选 |

## 落地步骤
1. 定义 Schema、节点池和初始数据。
2. 实现核心插件与命令，封装业务语义。
3. 为运行时配置日志、中间件、历史策略。
4. 接入事件存储与索引服务，搭建监控。
5. 编写集成测试与基准测试验证性能。

## 结论
ModuForge-RS 适合需要事务回放、协作与可扩展运行时的复杂业务场景。通过组合核心 crate 与配套生态，可以在统一内核上构建桌面、Web 或服务端应用，同时保持良好的维护性与演进空间。
